trigger:
- main

jobs:
- job: Build_and_deploy
  pool:
    vmImage: ubuntu-latest

  steps:  
   - checkout: self
     persistCredentials: true
   - script: |
       git config user.name "development@khanonjs.com"
       git config user.email "development@khanonjs.com"
       git tag -a TEST -m "MESSAGE"
       npm run pipeline:create-version-tag
     displayName: 'Git tag'

#   - template: azure-pipelines-build.yml
#
#   - script: |
#       npm run pipeline:validate-version
#     displayName: 'Validate version'
#
#   - task: Npm@1
#     inputs:
#       command: 'publish'
#       verbose: true
#       publishEndpoint: 'Npm public registry - Khanon.js'
#     displayName: 'Npm publish'


